{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _IsoBox = require('../vo/IsoBox');\n\nvar _IsoBox2 = _interopRequireDefault(_IsoBox);\n\nvar _FactoryMaker = require('../../core/FactoryMaker');\n\nvar _FactoryMaker2 = _interopRequireDefault(_FactoryMaker);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n* The copyright in this software is being made available under the BSD License,\n* included below. This software may be subject to other third party and contributor\n* rights, including patent rights, and no such rights are granted under this license.\n*\n* Copyright (c) 2013, Dash Industry Forum.\n* All rights reserved.\n*\n* Redistribution and use in source and binary forms, with or without modification,\n* are permitted provided that the following conditions are met:\n*  * Redistributions of source code must retain the above copyright notice, this\n*  list of conditions and the following disclaimer.\n*  * Redistributions in binary form must reproduce the above copyright notice,\n*  this list of conditions and the following disclaimer in the documentation and/or\n*  other materials provided with the distribution.\n*  * Neither the name of Dash Industry Forum nor the names of its\n*  contributors may be used to endorse or promote products derived from this software\n*  without specific prior written permission.\n*\n*  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n*  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n*  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n*  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n*  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n*  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n*  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n*  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n*  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n*  POSSIBILITY OF SUCH DAMAGE.\n*/\n\n\nfunction IsoFile() {\n  var instance = void 0,\n      parsedIsoFile = void 0;\n  /**\n  * @param {string} type\n  * @returns {IsoBox|null}\n  * @memberof IsoFile#\n  */\n\n  function getBox(type) {\n    if (!type || !parsedIsoFile || !parsedIsoFile.boxes || parsedIsoFile.boxes.length === 0 || typeof parsedIsoFile.fetch !== 'function') return null;\n    return convertToDashIsoBox(parsedIsoFile.fetch(type));\n  }\n  /**\n  * @param {string} type\n  * @returns {Array|null} array of {@link IsoBox}\n  * @memberof IsoFile#\n  */\n\n\n  function getBoxes(type) {\n    var boxes = [];\n\n    if (!type || !parsedIsoFile || typeof parsedIsoFile.fetchAll !== 'function') {\n      return boxes;\n    }\n\n    var boxData = parsedIsoFile.fetchAll(type);\n    var box = void 0;\n\n    for (var i = 0, ln = boxData.length; i < ln; i++) {\n      box = convertToDashIsoBox(boxData[i]);\n\n      if (box) {\n        boxes.push(box);\n      }\n    }\n\n    return boxes;\n  }\n  /**\n  * @param {string} value\n  * @memberof IsoFile#\n  */\n\n\n  function setData(value) {\n    parsedIsoFile = value;\n  }\n  /**\n  * @returns {IsoBox|null}\n  * @memberof IsoFile#\n  */\n\n\n  function getLastBox() {\n    if (!parsedIsoFile || !parsedIsoFile.boxes || !parsedIsoFile.boxes.length) return null;\n    var type = parsedIsoFile.boxes[parsedIsoFile.boxes.length - 1].type;\n    var boxes = getBoxes(type);\n    return boxes.length > 0 ? boxes[boxes.length - 1] : null;\n  }\n\n  function convertToDashIsoBox(boxData) {\n    if (!boxData) return null;\n    var box = new _IsoBox2.default(boxData);\n\n    if (boxData.hasOwnProperty('_incomplete')) {\n      box.isComplete = !boxData._incomplete;\n    }\n\n    return box;\n  }\n\n  instance = {\n    getBox: getBox,\n    getBoxes: getBoxes,\n    setData: setData,\n    getLastBox: getLastBox\n  };\n  return instance;\n}\n\nIsoFile.__dashjs_factory_name = 'IsoFile';\nexports.default = _FactoryMaker2.default.getClassFactory(IsoFile);","map":{"version":3,"mappings":";;;;;;AA+BA;;;;AACA;;;;;;;;AAhCA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAASA,OAAT,GAAmB;EAEf,IAAIC,iBAAJ;EAAA,IACIC,sBADJ;EAGA;;;;;;EAKA,SAASC,MAAT,CAAgBC,IAAhB,EAAsB;IAClB,IAAI,CAACA,IAAD,IAAS,CAACF,aAAV,IAA2B,CAACA,cAAcG,KAA1C,IAAoDH,cAAcG,KAAdH,CAAoBI,MAApBJ,KAA+B,CAAnF,IAAyF,OAAOA,cAAcK,KAArB,KAA+B,UAA5H,EAAwI,OAAO,IAAP;IAExI,OAAOC,oBAAoBN,cAAcK,KAAdL,CAAoBE,IAApBF,CAApBM,CAAP;EAGJ;EAAA;;;;;;;EAKA,SAASC,QAAT,CAAkBL,IAAlB,EAAwB;IACpB,IAAIC,QAAQ,EAAZ;;IAEA,IAAI,CAACD,IAAD,IAAS,CAACF,aAAV,IAA2B,OAAOA,cAAcQ,QAArB,KAAkC,UAAjE,EAA6E;MACzE,OAAOL,KAAP;IAGJ;;IAAA,IAAIM,UAAUT,cAAcQ,QAAdR,CAAuBE,IAAvBF,CAAd;IACA,IAAIU,YAAJ;;IAEA,KAAK,IAAIC,IAAI,CAAR,EAAWC,KAAKH,QAAQL,MAA7B,EAAqCO,IAAIC,EAAzC,EAA6CD,GAA7C,EAAkD;MAC9CD,MAAMJ,oBAAoBG,QAAQE,CAARF,CAApBH,CAANI;;MAEA,IAAIA,GAAJ,EAAS;QACLP,MAAMU,IAANV,CAAWO,GAAXP;MAEP;IAED;;IAAA,OAAOA,KAAP;EAGJ;EAAA;;;;;;EAIA,SAASW,OAAT,CAAiBC,KAAjB,EAAwB;IACpBf,gBAAgBe,KAAhBf;EAGJ;EAAA;;;;;;EAIA,SAASgB,UAAT,GAAsB;IAClB,IAAI,CAAChB,aAAD,IAAkB,CAACA,cAAcG,KAAjC,IAA0C,CAACH,cAAcG,KAAdH,CAAoBI,MAAnE,EAA2E,OAAO,IAAP;IAE3E,IAAIF,OAAOF,cAAcG,KAAdH,CAAoBA,cAAcG,KAAdH,CAAoBI,MAApBJ,GAA6B,CAAjDA,EAAoDE,IAA/D;IACA,IAAIC,QAAQI,SAASL,IAATK,CAAZ;IAEA,OAAOJ,MAAMC,MAAND,GAAe,CAAfA,GAAmBA,MAAMA,MAAMC,MAAND,GAAe,CAArBA,CAAnBA,GAA6C,IAApD;EAGJ;;EAAA,SAASG,mBAAT,CAA6BG,OAA7B,EAAsC;IAClC,IAAI,CAACA,OAAL,EAAc,OAAO,IAAP;IAEd,IAAIC,MAAM,IAAIO,gBAAJ,CAAWR,OAAX,CAAV;;IAEA,IAAIA,QAAQS,cAART,CAAuB,aAAvBA,CAAJ,EAA2C;MACvCC,IAAIS,UAAJT,GAAiB,CAACD,QAAQW,WAA1BV;IAGJ;;IAAA,OAAOA,GAAP;EAGJX;;EAAAA,WAAW;IACPE,QAAQA,MADD;IAEPM,UAAUA,QAFH;IAGPO,SAASA,OAHF;IAIPE,YAAYA;EAJL,CAAXjB;EAOA,OAAOA,QAAP;AAEJD;;AAAAA,QAAQuB,qBAARvB,GAAgC,SAAhCA;kBACewB,uBAAaC,eAAbD,CAA6BxB,OAA7BwB,C","names":["IsoFile","instance","parsedIsoFile","getBox","type","boxes","length","fetch","convertToDashIsoBox","getBoxes","fetchAll","boxData","box","i","ln","push","setData","value","getLastBox","IsoBox","hasOwnProperty","isComplete","_incomplete","__dashjs_factory_name","FactoryMaker","getClassFactory"],"sources":["/home/landsys/react-node-video-streaming/client/node_modules/dashjs/src/streaming/utils/IsoFile.js"],"sourcesContent":["/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n\nimport IsoBox from '../vo/IsoBox';\nimport FactoryMaker from '../../core/FactoryMaker';\n\nfunction IsoFile() {\n\n    let instance,\n        parsedIsoFile;\n\n    /**\n    * @param {string} type\n    * @returns {IsoBox|null}\n    * @memberof IsoFile#\n    */\n    function getBox(type) {\n        if (!type || !parsedIsoFile || !parsedIsoFile.boxes || (parsedIsoFile.boxes.length === 0) || typeof parsedIsoFile.fetch !== 'function') return null;\n\n        return convertToDashIsoBox(parsedIsoFile.fetch(type));\n    }\n\n    /**\n    * @param {string} type\n    * @returns {Array|null} array of {@link IsoBox}\n    * @memberof IsoFile#\n    */\n    function getBoxes(type) {\n        let boxes = [];\n\n        if (!type || !parsedIsoFile || typeof parsedIsoFile.fetchAll !== 'function') {\n            return boxes;\n        }\n\n        let boxData = parsedIsoFile.fetchAll(type);\n        let box;\n\n        for (let i = 0, ln = boxData.length; i < ln; i++) {\n            box = convertToDashIsoBox(boxData[i]);\n\n            if (box) {\n                boxes.push(box);\n            }\n        }\n\n        return boxes;\n    }\n\n    /**\n    * @param {string} value\n    * @memberof IsoFile#\n    */\n    function setData(value) {\n        parsedIsoFile = value;\n    }\n\n    /**\n    * @returns {IsoBox|null}\n    * @memberof IsoFile#\n    */\n    function getLastBox() {\n        if (!parsedIsoFile || !parsedIsoFile.boxes || !parsedIsoFile.boxes.length) return null;\n\n        let type = parsedIsoFile.boxes[parsedIsoFile.boxes.length - 1].type;\n        let boxes = getBoxes(type);\n\n        return boxes.length > 0 ? boxes[boxes.length - 1] : null;\n    }\n\n    function convertToDashIsoBox(boxData) {\n        if (!boxData) return null;\n\n        let box = new IsoBox(boxData);\n\n        if (boxData.hasOwnProperty('_incomplete')) {\n            box.isComplete = !boxData._incomplete;\n        }\n\n        return box;\n    }\n\n    instance = {\n        getBox: getBox,\n        getBoxes: getBoxes,\n        setData: setData,\n        getLastBox: getLastBox\n    };\n\n    return instance;\n}\nIsoFile.__dashjs_factory_name = 'IsoFile';\nexport default FactoryMaker.getClassFactory(IsoFile);\n"]},"metadata":{},"sourceType":"script"}