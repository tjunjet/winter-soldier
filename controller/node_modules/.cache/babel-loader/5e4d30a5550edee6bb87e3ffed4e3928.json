{"ast":null,"code":"import { createElement as e } from \"react\";\nimport o from \"dashjs\";\n\nvar t = function (t) {\n  var r, n, u;\n  return function (e) {\n    var t = o.MediaPlayer().create();\n    document.addEventListener(\"DOMContentLoaded\", function () {\n      var o = document.querySelector(\"#video\");\n      t.extend(\"RequestModifier\", function () {\n        return {\n          modifyRequestHeader: function (o) {\n            return o.setRequestHeader(\"\" + e.requestHeader, \"\" + e.requestToken), o;\n          },\n          modifyRequestURL: function (o) {\n            return o + \"?\" + e.query;\n          }\n        };\n      }, !0), t.initialize(o, e.remoteUrl, e.autoPlay);\n    });\n  }({\n    autoPlay: t.autoPlay,\n    remoteUrl: t.remoteUrl,\n    requestHeader: null === (r = t.options) || void 0 === r ? void 0 : r.requestHeader,\n    requestToken: null === (n = t.options) || void 0 === n ? void 0 : n.requestToken,\n    query: null === (u = t.options) || void 0 === u ? void 0 : u.query\n  }), e(\"video\", {\n    id: \"video\",\n    loop: !0,\n    className: t.className,\n    controls: t.controls,\n    style: t.style,\n    contextMenu: t.contextMenu,\n    controlsList: t.controlsList,\n    autoPlay: t.autoPlay,\n    preload: \"auto\"\n  });\n};\n\nexport { t as Video };","map":{"version":3,"mappings":";;;IAMaA,IAAQ,UAACC,CAAD,EAACA;EAAAA;EASpB,OCXqB,UAACA,CAAD,EAACA;IACtB,IAAMC,IAASC,EAAKC,WAALD,GAAmBE,MAAnBF,EAAf;IACAG,SAASC,gBAATD,CAA0B,kBAA1BA,EAA8C;MAC5C,IAAME,IAAoBF,SAASG,aAATH,CAAuB,QAAvBA,CAA1B;MACAJ,EAAOQ,MAAPR,CACE,iBADFA,EAEE;QACE,OAAO;UACLS,qBAAqB,UAAUC,CAAV,EAAUA;YAM7B,OALAA,EAAIC,gBAAJD,CAAIC,KACCZ,EAAMa,aADXF,EACWE,KACNb,EAAMc,YAFXH,GAKOA,CAAP;UAAOA,CAPJ;UASLI,kBAAkB,UAAUC,CAAV,EAAUA;YAC1B,OAAUA,UAAOhB,EAAMiB,KAAvB;UAAuBA;QAVpB,CAAP;MAU2BA,CAb/BhB,EAa+BgB,CAI7B,CAjBFhB,GAmBAA,EAAOiB,UAAPjB,CAAkBM,CAAlBN,EAAgCD,EAAMmB,SAAtClB,EAAiDD,EAAMoB,QAAvDnB,CAnBAA;IAmBuDmB,CArBzDf;EDCAgB,CCHqB,CDGb;IACND,UAAUpB,EAAMoB,QADV;IAEND,WAAWnB,EAAMmB,SAFX;IAGNN,6BAAeb,EAAMsB,OAArBT,KAAqBS,YAArBT,GAAqBS,MAArBT,GAAeU,EAAeV,aAHxB;IAINC,4BAAcd,EAAMsB,OAApBR,KAAoBQ,YAApBR,GAAoBQ,MAApBR,GAAcU,EAAeV,YAJvB;IAKNG,qBAAOjB,EAAMsB,OAAbL,KAAaK,YAAbL,GAAaK,MAAbL,GAAOQ,EAAeR;EALhB,CCHa,GDYnBS;IACEC,IAAG,OADLD;IAEEE,QAFFF;IAGEG,WAAW7B,EAAM6B,SAHnBH;IAIEI,UAAU9B,EAAM8B,QAJlBJ;IAKEK,OAAO/B,EAAM+B,KALfL;IAMEM,aAAahC,EAAMgC,WANrBN;IAOEO,cAAcjC,EAAMiC,YAPtBP;IAQEN,UAAUpB,EAAMoB,QARlBM;IASEQ,SAAQ;EATVR,EADF;AAUY;;AAAA","names":["Video","props","player","Dash","MediaPlayer","create","document","addEventListener","videoElement","querySelector","extend","modifyRequestHeader","xhr","setRequestHeader","requestHeader","requestToken","modifyRequestURL","url","query","initialize","remoteUrl","autoPlay","useDash","options","_props$options","_props$options2","_props$options3","React","id","loop","className","controls","style","contextMenu","controlsList","preload"],"sources":["/home/landsys/react-node-video-streaming/client/node_modules/react-video-stream/src/index.tsx","/home/landsys/react-node-video-streaming/client/node_modules/react-video-stream/src/helpers/stream.ts"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport * as React from 'react'\nimport { props } from './types'\n\nimport { useDash } from './helpers/stream'\n\nexport const Video = (props: props) => {\n  useDash({\n    autoPlay: props.autoPlay,\n    remoteUrl: props.remoteUrl,\n    requestHeader: props.options?.requestHeader,\n    requestToken: props.options?.requestToken,\n    query: props.options?.query\n  })\n\n  return (\n    <video\n      id='video'\n      loop\n      className={props.className}\n      controls={props.controls}\n      style={props.style}\n      contextMenu={props.contextMenu}\n      controlsList={props.controlsList}\n      autoPlay={props.autoPlay}\n      preload='auto'\n    />\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport Dash from 'dashjs'\nimport { dash } from '../types'\n\nexport const useDash = (props: dash) => {\n  const player = Dash.MediaPlayer().create()\n  document.addEventListener('DOMContentLoaded', () => {\n    const videoElement: any = document.querySelector('#video')\n    player.extend(\n      'RequestModifier',\n      function () {\n        return {\n          modifyRequestHeader: function (xhr: XMLHttpRequest) {\n            xhr.setRequestHeader(\n              `${props.requestHeader}`,\n              `${props.requestToken}`\n            )\n\n            return xhr\n          },\n          modifyRequestURL: function (url: string) {\n            return `${url}?${props.query}`\n          }\n        }\n      },\n      true\n    )\n    player.initialize(videoElement, props.remoteUrl, props.autoPlay)\n  })\n}\n"]},"metadata":{},"sourceType":"module"}