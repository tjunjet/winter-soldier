{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _BaseMatcher2 = require('./BaseMatcher');\n\nvar _BaseMatcher3 = _interopRequireDefault(_BaseMatcher2);\n\nvar _DashConstants = require('../../constants/DashConstants');\n\nvar _DashConstants2 = _interopRequireDefault(_DashConstants);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/**\n* The copyright in this software is being made available under the BSD License,\n* included below. This software may be subject to other third party and contributor\n* rights, including patent rights, and no such rights are granted under this license.\n*\n* Copyright (c) 2013, Dash Industry Forum.\n* All rights reserved.\n*\n* Redistribution and use in source and binary forms, with or without modification,\n* are permitted provided that the following conditions are met:\n*  * Redistributions of source code must retain the above copyright notice, this\n*  list of conditions and the following disclaimer.\n*  * Redistributions in binary form must reproduce the above copyright notice,\n*  this list of conditions and the following disclaimer in the documentation and/or\n*  other materials provided with the distribution.\n*  * Neither the name of Dash Industry Forum nor the names of its\n*  contributors may be used to endorse or promote products derived from this software\n*  without specific prior written permission.\n*\n*  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n*  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n*  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n*  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n*  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n*  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n*  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n*  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n*  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n*  POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/**\n* @classdesc Matches and converts xs:string to string, but only for specific attributes on specific nodes\n*/\n\n\nvar StringMatcher = function (_BaseMatcher) {\n  _inherits(StringMatcher, _BaseMatcher);\n\n  function StringMatcher() {\n    _classCallCheck(this, StringMatcher);\n\n    return _possibleConstructorReturn(this, (StringMatcher.__proto__ || Object.getPrototypeOf(StringMatcher)).call(this, function (attr, nodeName) {\n      var _stringAttrsInElement;\n\n      var stringAttrsInElements = (_stringAttrsInElement = {}, _defineProperty(_stringAttrsInElement, _DashConstants2.default.MPD, [_DashConstants2.default.ID, _DashConstants2.default.PROFILES]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.PERIOD, [_DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.BASE_URL, [_DashConstants2.default.SERVICE_LOCATION, _DashConstants2.default.BYTE_RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SEGMENT_BASE, [_DashConstants2.default.INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.INITIALIZATION, [_DashConstants2.default.RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.REPRESENTATION_INDEX, [_DashConstants2.default.RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SEGMENT_LIST, [_DashConstants2.default.INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.BITSTREAM_SWITCHING, [_DashConstants2.default.RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SEGMENT_URL, [_DashConstants2.default.MEDIA_RANGE, _DashConstants2.default.INDEX_RANGE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SEGMENT_TEMPLATE, [_DashConstants2.default.INDEX_RANGE, _DashConstants2.default.MEDIA, _DashConstants2.default.INDEX, _DashConstants2.default.INITIALIZATION_MINUS, _DashConstants2.default.BITSTREAM_SWITCHING_MINUS]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.ASSET_IDENTIFIER, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.EVENT_STREAM, [_DashConstants2.default.VALUE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.ADAPTATION_SET, [_DashConstants2.default.PROFILES, _DashConstants2.default.MIME_TYPE, _DashConstants2.default.SEGMENT_PROFILES, _DashConstants2.default.CODECS, _DashConstants2.default.CONTENT_TYPE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.FRAME_PACKING, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.AUDIO_CHANNEL_CONFIGURATION, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.CONTENT_PROTECTION, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.ESSENTIAL_PROPERTY, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SUPPLEMENTAL_PROPERTY, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.INBAND_EVENT_STREAM, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.ACCESSIBILITY, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.ROLE, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.RATING, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.VIEWPOINT, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.CONTENT_COMPONENT, [_DashConstants2.default.CONTENT_TYPE]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.REPRESENTATION, [_DashConstants2.default.ID, _DashConstants2.default.DEPENDENCY_ID, _DashConstants2.default.MEDIA_STREAM_STRUCTURE_ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.SUBSET, [_DashConstants2.default.ID]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.METRICS, [_DashConstants2.default.METRICS_MINUS]), _defineProperty(_stringAttrsInElement, _DashConstants2.default.REPORTING, [_DashConstants2.default.VALUE, _DashConstants2.default.ID]), _stringAttrsInElement);\n\n      if (stringAttrsInElements.hasOwnProperty(nodeName)) {\n        var attrNames = stringAttrsInElements[nodeName];\n\n        if (attrNames !== undefined) {\n          return attrNames.indexOf(attr.name) >= 0;\n        } else {\n          return false;\n        }\n      }\n\n      return false;\n    }, function (str) {\n      return String(str);\n    }));\n  }\n\n  return StringMatcher;\n}(_BaseMatcher3.default);\n\nexports.default = StringMatcher;","map":{"version":3,"mappings":"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","names":["StringMatcher","_classCallCheck","attr","nodeName","stringAttrsInElements","DashConstants","MPD","ID","PROFILES","PERIOD","BASE_URL","SERVICE_LOCATION","BYTE_RANGE","SEGMENT_BASE","INDEX_RANGE","INITIALIZATION","RANGE","REPRESENTATION_INDEX","SEGMENT_LIST","BITSTREAM_SWITCHING","SEGMENT_URL","MEDIA_RANGE","SEGMENT_TEMPLATE","MEDIA","INDEX","INITIALIZATION_MINUS","BITSTREAM_SWITCHING_MINUS","ASSET_IDENTIFIER","VALUE","EVENT_STREAM","ADAPTATION_SET","MIME_TYPE","SEGMENT_PROFILES","CODECS","CONTENT_TYPE","FRAME_PACKING","AUDIO_CHANNEL_CONFIGURATION","CONTENT_PROTECTION","ESSENTIAL_PROPERTY","SUPPLEMENTAL_PROPERTY","INBAND_EVENT_STREAM","ACCESSIBILITY","ROLE","RATING","VIEWPOINT","CONTENT_COMPONENT","REPRESENTATION","DEPENDENCY_ID","MEDIA_STREAM_STRUCTURE_ID","SUBSET","METRICS","METRICS_MINUS","REPORTING","hasOwnProperty","attrNames","undefined","indexOf","name","String","str","BaseMatcher"],"sources":["/home/landsys/react-node-video-streaming/client/node_modules/dashjs/src/dash/parser/matchers/StringMatcher.js"],"sourcesContent":["/**\n * The copyright in this software is being made available under the BSD License,\n * included below. This software may be subject to other third party and contributor\n * rights, including patent rights, and no such rights are granted under this license.\n *\n * Copyright (c) 2013, Dash Industry Forum.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification,\n * are permitted provided that the following conditions are met:\n *  * Redistributions of source code must retain the above copyright notice, this\n *  list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above copyright notice,\n *  this list of conditions and the following disclaimer in the documentation and/or\n *  other materials provided with the distribution.\n *  * Neither the name of Dash Industry Forum nor the names of its\n *  contributors may be used to endorse or promote products derived from this software\n *  without specific prior written permission.\n *\n *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS AS IS AND ANY\n *  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n *  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n *  IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,\n *  INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n *  NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n *  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n *  ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n *  POSSIBILITY OF SUCH DAMAGE.\n */\n/**\n * @classdesc Matches and converts xs:string to string, but only for specific attributes on specific nodes\n */\nimport BaseMatcher from './BaseMatcher';\nimport DashConstants from '../../constants/DashConstants';\n\nclass StringMatcher extends BaseMatcher {\n    constructor() {\n        super(\n            (attr, nodeName) => {\n                const stringAttrsInElements = {\n                    [DashConstants.MPD]:                            [ DashConstants.ID, DashConstants.PROFILES ],\n                    [DashConstants.PERIOD]:                         [ DashConstants.ID ],\n                    [DashConstants.BASE_URL]:                       [ DashConstants.SERVICE_LOCATION, DashConstants.BYTE_RANGE ],\n                    [DashConstants.SEGMENT_BASE]:                   [ DashConstants.INDEX_RANGE ],\n                    [DashConstants.INITIALIZATION]:                 [ DashConstants.RANGE ],\n                    [DashConstants.REPRESENTATION_INDEX]:           [ DashConstants.RANGE ],\n                    [DashConstants.SEGMENT_LIST]:                   [ DashConstants.INDEX_RANGE ],\n                    [DashConstants.BITSTREAM_SWITCHING]:            [ DashConstants.RANGE ],\n                    [DashConstants.SEGMENT_URL]:                    [ DashConstants.MEDIA_RANGE, DashConstants.INDEX_RANGE ],\n                    [DashConstants.SEGMENT_TEMPLATE]:               [ DashConstants.INDEX_RANGE, DashConstants.MEDIA, DashConstants.INDEX, DashConstants.INITIALIZATION_MINUS, DashConstants.BITSTREAM_SWITCHING_MINUS ],\n                    [DashConstants.ASSET_IDENTIFIER]:               [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.EVENT_STREAM]:                   [ DashConstants.VALUE ],\n                    [DashConstants.ADAPTATION_SET]:                 [ DashConstants.PROFILES, DashConstants.MIME_TYPE, DashConstants.SEGMENT_PROFILES, DashConstants.CODECS, DashConstants.CONTENT_TYPE ],\n                    [DashConstants.FRAME_PACKING]:                  [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.AUDIO_CHANNEL_CONFIGURATION]:    [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.CONTENT_PROTECTION]:             [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.ESSENTIAL_PROPERTY]:             [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.SUPPLEMENTAL_PROPERTY]:          [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.INBAND_EVENT_STREAM]:            [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.ACCESSIBILITY]:                  [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.ROLE]:                           [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.RATING]:                         [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.VIEWPOINT]:                      [ DashConstants.VALUE, DashConstants.ID ],\n                    [DashConstants.CONTENT_COMPONENT]:              [ DashConstants.CONTENT_TYPE ],\n                    [DashConstants.REPRESENTATION]:                 [ DashConstants.ID, DashConstants.DEPENDENCY_ID, DashConstants.MEDIA_STREAM_STRUCTURE_ID ],\n                    [DashConstants.SUBSET]:                         [ DashConstants.ID ],\n                    [DashConstants.METRICS]:                        [ DashConstants.METRICS_MINUS ],\n                    [DashConstants.REPORTING]:                      [ DashConstants.VALUE, DashConstants.ID ]\n                };\n                if (stringAttrsInElements.hasOwnProperty(nodeName)) {\n                    let attrNames = stringAttrsInElements[nodeName];\n                    if (attrNames !== undefined) {\n                        return attrNames.indexOf(attr.name) >= 0;\n                    } else {\n                        return false;\n                    }\n                }\n                return false;\n            },\n            str => String(str)\n        );\n    }\n}\n\nexport default StringMatcher;\n"]},"metadata":{},"sourceType":"script"}