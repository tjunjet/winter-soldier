{"version":3,"file":"index.modern.js","sources":["../src/index.tsx","../src/helpers/stream.ts"],"sourcesContent":["/* eslint-disable no-unused-vars */\nimport * as React from 'react'\nimport { props } from './types'\n\nimport { useDash } from './helpers/stream'\n\nexport const Video = (props: props) => {\n  useDash({\n    autoPlay: props.autoPlay,\n    remoteUrl: props.remoteUrl,\n    requestHeader: props.options?.requestHeader,\n    requestToken: props.options?.requestToken,\n    query: props.options?.query\n  })\n\n  return (\n    <video\n      id='video'\n      loop\n      className={props.className}\n      controls={props.controls}\n      style={props.style}\n      contextMenu={props.contextMenu}\n      controlsList={props.controlsList}\n      autoPlay={props.autoPlay}\n      preload='auto'\n    />\n  )\n}\n","/* eslint-disable no-unused-vars */\nimport Dash from 'dashjs'\nimport { dash } from '../types'\n\nexport const useDash = (props: dash) => {\n  const player = Dash.MediaPlayer().create()\n  document.addEventListener('DOMContentLoaded', () => {\n    const videoElement: any = document.querySelector('#video')\n    player.extend(\n      'RequestModifier',\n      function () {\n        return {\n          modifyRequestHeader: function (xhr: XMLHttpRequest) {\n            xhr.setRequestHeader(\n              `${props.requestHeader}`,\n              `${props.requestToken}`\n            )\n\n            return xhr\n          },\n          modifyRequestURL: function (url: string) {\n            return `${url}?${props.query}`\n          }\n        }\n      },\n      true\n    )\n    player.initialize(videoElement, props.remoteUrl, props.autoPlay)\n  })\n}\n"],"names":["Video","props","player","Dash","MediaPlayer","create","document","addEventListener","videoElement","querySelector","extend","modifyRequestHeader","xhr","setRequestHeader","requestHeader","requestToken","modifyRequestURL","url","query","initialize","remoteUrl","autoPlay","useDash","options","_props$options","_props$options2","_props$options3","React","id","loop","className","controls","style","contextMenu","controlsList","preload"],"mappings":"gEAMaA,EAAQ,SAACC,aASpB,OCXqB,SAACA,GACtB,IAAMC,EAASC,EAAKC,cAAcC,SAClCC,SAASC,iBAAiB,mBAAoB,WAC5C,IAAMC,EAAoBF,SAASG,cAAc,UACjDP,EAAOQ,OACL,kBACA,WACE,MAAO,CACLC,oBAAqB,SAAUC,GAM7B,OALAA,EAAIC,oBACCZ,EAAMa,iBACNb,EAAMc,cAGJH,GAETI,iBAAkB,SAAUC,GAC1B,OAAUA,MAAOhB,EAAMiB,UAI7B,GAEFhB,EAAOiB,WAAWX,EAAcP,EAAMmB,UAAWnB,EAAMoB,YDpBzDC,CAAQ,CACND,SAAUpB,EAAMoB,SAChBD,UAAWnB,EAAMmB,UACjBN,wBAAeb,EAAMsB,4BAANC,EAAeV,cAC9BC,uBAAcd,EAAMsB,4BAANE,EAAeV,aAC7BG,gBAAOjB,EAAMsB,4BAANG,EAAeR,QAItBS,WACEC,GAAG,QACHC,QACAC,UAAW7B,EAAM6B,UACjBC,SAAU9B,EAAM8B,SAChBC,MAAO/B,EAAM+B,MACbC,YAAahC,EAAMgC,YACnBC,aAAcjC,EAAMiC,aACpBb,SAAUpB,EAAMoB,SAChBc,QAAQ"}